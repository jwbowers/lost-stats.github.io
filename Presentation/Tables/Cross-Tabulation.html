
<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <link rel="stylesheet" href="/assets/css/just-the-docs-default.css">
  <link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet">
  <style id="jtd-nav-activation">
    .site-nav > ul.nav-list:first-child > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li:not(:nth-child(3)) > a,
    .site-nav > ul.nav-list:first-child > li > ul > li > ul > li > ul > li a {
      background-image: none;
    }
    .site-nav > ul.nav-list:not(:first-child) a,
    .site-nav li.external a {
      background-image: none;
    }
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(2) > ul > li:nth-child(3) > a {
      font-weight: 600;
      text-decoration: none;
    }.site-nav > ul.nav-list:first-child > li:nth-child(5) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(2) > button svg,
    .site-nav > ul.nav-list:first-child > li:nth-child(5) > ul > li:nth-child(2) > ul > li:nth-child(3) > button svg {
      transform: rotate(-90deg);
    }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list,
    .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(5) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(3) > ul.nav-list {
      display: block;
    }
  </style>
    <script src="/assets/js/vendor/lunr.min.js"></script>
  <script src="/assets/js/just-the-docs.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Cross-Tabulation | LOST</title>
<meta name="generator" content="Jekyll v4.4.0" />
<meta property="og:title" content="Cross-Tabulation" />
<meta property="og:locale" content="en_US" />
<meta property="og:site_name" content="LOST" />
<script type="application/ld+json">
{"url":"/Presentation/Tables/Cross-Tabulation.html","@type":"WebPage","headline":"Cross-Tabulation","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
</head>
<body>
  <a class="skip-to-main" href="#main-content">Skip to main content</a>
  <svg xmlns="http://www.w3.org/2000/svg" class="d-none">
  <symbol id="svg-link" viewBox="0 0 24 24">
  <title>Link</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
    <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
  </svg>
</symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
  <title>Menu</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
    <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
  </svg>
</symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
  <title>Expand</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
    <polyline points="9 18 15 12 9 6"></polyline>
  </svg>
</symbol>
  <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE -->
<symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link">
  <title id="svg-external-link-title">(external link)</title>
  <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line>
</symbol>
    <symbol id="svg-doc" viewBox="0 0 24 24">
  <title>Document</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
  </svg>
</symbol>
    <symbol id="svg-search" viewBox="0 0 24 24">
  <title>Search</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
    <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
  </svg>
</symbol>
    <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md -->
<symbol id="svg-copy" viewBox="0 0 16 16">
  <title>Copy</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16">
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
    <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
  </svg>
</symbol>
<symbol id="svg-copied" viewBox="0 0 16 16">
  <title>Copied</title>
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16">
    <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/>
    <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/>
  </svg>
</symbol>
</svg>
    <div class="side-bar">
  <div class="site-header" role="banner">
    <a href="/" class="site-title lh-tight">
  LOST
</a>
    <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false">
      <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg>
    </button>
  </div>
  <nav aria-label="Main" id="site-nav" class="site-nav">
    <ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Data Manipulation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Data_Manipulation/data_manipulation.html" class="nav-list-link">Data Manipulation</a><ul class="nav-list"><li class="nav-list-item"><a href="/Data_Manipulation/Regular_Expressions.html" class="nav-list-link">Regular Expressions</a></li><li class="nav-list-item"><a href="/Data_Manipulation/collapse_a_data_set.html" class="nav-list-link">Collapse a Data Set</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Combining Datasets category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Data_Manipulation/Combining_Datasets/combining_datasets_overview.html" class="nav-list-link">Combining Datasets</a><ul class="nav-list"><li class="nav-list-item"><a href="/Data_Manipulation/Combining_Datasets/combining_datasets_vertical_combination.html" class="nav-list-link">Vertical Combination</a></li><li class="nav-list-item"><a href="/Data_Manipulation/Combining_Datasets/combining_datasets_horizontal_merge_deterministic.html" class="nav-list-link">Horizontal Combination (Deterministic)</a></li></ul></li><li class="nav-list-item"><a href="/Data_Manipulation/creating_a_variable_with_group_calculations.html" class="nav-list-link">Creating a Variable with Group Calculations</a></li><li class="nav-list-item"><a href="/Data_Manipulation/creating_categorical_variables.html" class="nav-list-link">Creating Categorical Variables</a></li><li class="nav-list-item"><a href="/Data_Manipulation/Creating_Dummy_Variables/creating_dummy_variables.html" class="nav-list-link">Creating Dummy Variables</a></li><li class="nav-list-item"><a href="/Data_Manipulation/determine_the_observation_level_of_a_data_set.html" class="nav-list-link">Determine the Observation Level of a Data Set</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Reshaping Data category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Data_Manipulation/Reshaping/reshape.html" class="nav-list-link">Reshaping Data</a><ul class="nav-list"><li class="nav-list-item"><a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_wide_to_long.html" class="nav-list-link">Reshape Panel Data from Wide to Long</a></li><li class="nav-list-item"><a href="/Data_Manipulation/Reshaping/reshape_panel_data_from_long_to_wide.html" class="nav-list-link">Reshape Panel Data from Long to Wide</a></li></ul></li><li class="nav-list-item"><a href="/Data_Manipulation/rowwise_calculations.html" class="nav-list-link">Rowwise Calculations</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Geo-Spatial category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Geo-Spatial/Geo-spatial.html" class="nav-list-link">Geo-Spatial</a><ul class="nav-list"><li class="nav-list-item"><a href="/Geo-Spatial/choropleths.html" class="nav-list-link">Choropleths</a></li><li class="nav-list-item"><a href="/Geo-Spatial/geocoding.html" class="nav-list-link">Geocoding</a></li><li class="nav-list-item"><a href="/Geo-Spatial/handling_raster_data.html" class="nav-list-link">Handling Raster Data</a></li><li class="nav-list-item"><a href="/Geo-Spatial/merging_shape_files.html" class="nav-list-link">Merging Shape Files</a></li><li class="nav-list-item"><a href="/Geo-Spatial/spatial_joins.html" class="nav-list-link">Spatial Joins</a></li><li class="nav-list-item"><a href="/Geo-Spatial/spatial_lag_model.html" class="nav-list-link">Spatial Lag Model</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Machine Learning category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Machine_Learning/Machine_Learning.html" class="nav-list-link">Machine Learning</a><ul class="nav-list"><li class="nav-list-item"><a href="/Machine_Learning/Nearest_Neighbor.html" class="nav-list-link">K-Nearest Neighbor Matching</a></li><li class="nav-list-item"><a href="/Machine_Learning/artificial_neural_network.html" class="nav-list-link">Artificial Neural Network</a></li><li class="nav-list-item"><a href="/Machine_Learning/boosted_regression_trees.html" class="nav-list-link">Boosted Regression Trees</a></li><li class="nav-list-item"><a href="/Machine_Learning/causal_forest.html" class="nav-list-link">Causal Forest</a></li><li class="nav-list-item"><a href="/Machine_Learning/decision_trees.html" class="nav-list-link">Decision Trees</a></li><li class="nav-list-item"><a href="/Machine_Learning/penalized_regression.html" class="nav-list-link">Penalized Regression</a></li><li class="nav-list-item"><a href="/Machine_Learning/random_forest.html" class="nav-list-link">Random Forest</a></li><li class="nav-list-item"><a href="/Machine_Learning/support_vector_machine.html" class="nav-list-link">Support Vector Machine</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Model Estimation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Model_Estimation.html" class="nav-list-link">Model Estimation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Ordinary Least Squares category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/OLS/OLS.html" class="nav-list-link">Ordinary Least Squares</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/OLS/ANOVA.html" class="nav-list-link">ANOVA</a></li><li class="nav-list-item"><a href="/Model_Estimation/OLS/simple_linear_regression.html" class="nav-list-link">Simple Linear Regression</a></li><li class="nav-list-item"><a href="/Model_Estimation/OLS/stepwise_regression.html" class="nav-list-link">Stepwise Regression</a></li><li class="nav-list-item"><a href="/Model_Estimation/OLS/interaction_terms_and_polynomials.html" class="nav-list-link">Interaction Terms and Polynomials</a></li><li class="nav-list-item"><a href="/Model_Estimation/OLS/fixed_effects_in_linear_regression.html" class="nav-list-link">Fixed Effects in Linear Regression</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Matching category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Matching/matching.html" class="nav-list-link">Matching</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/Matching/entropy_balancing.html" class="nav-list-link">Entropy Balancing</a></li><li class="nav-list-item"><a href="/Model_Estimation/Matching/propensity_score_matching.html" class="nav-list-link">Propensity Score Matching</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Generalised Least Squares category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/GLS/GLS.html" class="nav-list-link">Generalised Least Squares</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/GLS/gmm.html" class="nav-list-link">Generalized Method of Moments</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/heckman_correction_model.html" class="nav-list-link">Heckman Correction Model</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/logit_model.html" class="nav-list-link">Logit Model</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/mcfaddens_choice_model.html" class="nav-list-link">McFadden's Choice Model (Alternative-Specific Conditional Logit)</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/nested_logit.html" class="nav-list-link">Nested Logit Model</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/ordered_probit_logit.html" class="nav-list-link">Ordered Probit/Logit</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/probit_model.html" class="nav-list-link">Probit Model</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/tobit.html" class="nav-list-link">Tobit Regression</a></li><li class="nav-list-item"><a href="/Model_Estimation/GLS/quantile_regression.html" class="nav-list-link">Quantile Regression</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Multilevel Models category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Multilevel_Models/Multilevel_Models.html" class="nav-list-link">Multilevel Models</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/Multilevel_Models/linear_mixed_effects_regression.html" class="nav-list-link">Linear Mixed-Effects Regression</a></li><li class="nav-list-item"><a href="/Model_Estimation/Multilevel_Models/mixed_logit.html" class="nav-list-link">Mixed Logit Model</a></li><li class="nav-list-item"><a href="/Model_Estimation/Multilevel_Models/random_mixed_effects_estimation.html" class="nav-list-link">Random/Mixed Effects in Linear Regression</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Research Design category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Research_Design/Research_Design.html" class="nav-list-link">Research Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/density_discontinuity_test.html" class="nav-list-link">Density Discontinuity Tests for Regression Discontinuity</a></li><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/event_study.html" class="nav-list-link">Difference in Differences Event Study</a></li><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/instrumental_variables.html" class="nav-list-link">Instrumental Variables</a></li><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/regression_discontinuity_design.html" class="nav-list-link">Regression Discontinuity Design</a></li><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/synthetic_control_method.html" class="nav-list-link">Synthetic Control</a></li><li class="nav-list-item"><a href="/Model_Estimation/Research_Design/two_by_two_difference_in_difference.html" class="nav-list-link">2x2 Difference in Difference</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Statistical Inference category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Statistical_Inference/Statistical_Inference.html" class="nav-list-link">Statistical Inference</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/Marginal_Effects_in_Nonlinear_Regression.html" class="nav-list-link">Marginal Effects in Nonlinear Regression</a></li><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/linear_hypothesis_tests.html" class="nav-list-link">Linear Hypothesis Tests</a></li><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/nonlinear_hypothesis_tests.html" class="nav-list-link">Nonlinear Hypothesis Tests</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Nonstandard Errors category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/nonstandard_errors.html" class="nav-list-link">Nonstandard Errors</a><ul class="nav-list"><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/bootstrap_se.html" class="nav-list-link">Bootstrap Standard Errors</a></li><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/clustered_se.html" class="nav-list-link">Cluster-Robust Standard Errors</a></li><li class="nav-list-item"><a href="/Model_Estimation/Statistical_Inference/Nonstandard_Errors/hc_se.html" class="nav-list-link">Heteroskedasticity-consistent standard errors</a></li></ul></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Presentation category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Presentation/Presentation.html" class="nav-list-link">Presentation</a><ul class="nav-list"><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Figures category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Presentation/Figures/Figures.html" class="nav-list-link">Figures</a><ul class="nav-list"><li class="nav-list-item"><a href="/Presentation/Figures/Adding_and_Labeling_a_Reference_Line.html" class="nav-list-link">Adding and Labeling a Reference Line</a></li><li class="nav-list-item"><a href="/Presentation/Figures/Animated_graphs.html" class="nav-list-link">Animated Graphs</a></li><li class="nav-list-item"><a href="/Presentation/Figures/Graph_Annotation.html" class="nav-list-link">Graph Annotations</a></li><li class="nav-list-item"><a href="/Presentation/Figures/Scatterplots.html" class="nav-list-link">Scatterplots</a></li><li class="nav-list-item"><a href="/Presentation/Figures/Styling_Scatterplots.html" class="nav-list-link">Styling Scatterplots</a></li><li class="nav-list-item"><a href="/Presentation/Figures/bar_graphs.html" class="nav-list-link">Bar Graphs</a></li><li class="nav-list-item"><a href="/Presentation/Figures/binscatter.html" class="nav-list-link">Binned Scatterplots</a></li><li class="nav-list-item"><a href="/Presentation/Figures/color_palettes.html" class="nav-list-link">Color Palettes</a></li><li class="nav-list-item"><a href="/Presentation/Figures/density_plots.html" class="nav-list-link">Density Plots</a></li><li class="nav-list-item"><a href="/Presentation/Figures/faceted_graphs.html" class="nav-list-link">Faceted Graphs</a></li><li class="nav-list-item"><a href="/Presentation/Figures/formatting_graph_axes.html" class="nav-list-link">Formatting Graph Axes</a></li><li class="nav-list-item"><a href="/Presentation/Figures/formatting_graph_legends.html" class="nav-list-link">Formatting Graph Legends</a></li><li class="nav-list-item"><a href="/Presentation/Figures/graph_themes.html" class="nav-list-link">Graph Themes</a></li><li class="nav-list-item"><a href="/Presentation/Figures/heatmap_colored_correlation_matrix.html" class="nav-list-link">Heatmap Colored Correlation Matrix</a></li><li class="nav-list-item"><a href="/Presentation/Figures/histograms.html" class="nav-list-link">Histograms</a></li><li class="nav-list-item"><a href="/Presentation/Figures/line_graph_with_labels_at_the_beginning_or_end.html" class="nav-list-link">Line Graph with Labels at the Beginning or End of Lines</a></li><li class="nav-list-item"><a href="/Presentation/Figures/line_graphs.html" class="nav-list-link">Line Graphs</a></li><li class="nav-list-item"><a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_categorical_variables.html" class="nav-list-link">Marginal effects plots for interactions with categorical variables</a></li><li class="nav-list-item"><a href="/Presentation/Figures/marginal_effects_plots_for_interactions_with_continuous_variables.html" class="nav-list-link">Marginal Effects Plots for Interactions with Continuous Variables</a></li><li class="nav-list-item"><a href="/Presentation/Figures/sankey_diagrams.html" class="nav-list-link">Sankey Diagrams</a></li><li class="nav-list-item"><a href="/Presentation/Figures/scatterplot_by_group_on_shared_axes.html" class="nav-list-link">Scatterplot by Group on Shared Axes</a></li><li class="nav-list-item"><a href="/Presentation/Figures/styling_line_graphs.html" class="nav-list-link">Styling Line Graphs</a></li><li class="nav-list-item"><a href="/Presentation/Figures/summary_graphs.html" class="nav-list-link">Graphing a By-Group or Over-Time Summary Statistic</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Tables category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Presentation/Tables/Tables.html" class="nav-list-link">Tables</a><ul class="nav-list"><li class="nav-list-item"><a href="/Presentation/Tables/Balance_Tables.html" class="nav-list-link">Balance Tables</a></li><li class="nav-list-item"><a href="/Presentation/Tables/Correlation_Matrix.html" class="nav-list-link">Correlation Matrix</a></li><li class="nav-list-item"><a href="/Presentation/Tables/Cross-Tabulation.html" class="nav-list-link">Cross-Tabulation</a></li><li class="nav-list-item"><a href="/Presentation/Tables/Custom_Tables.html" class="nav-list-link">Building Custom Tables</a></li><li class="nav-list-item"><a href="/Presentation/Tables/Regression_Tables.html" class="nav-list-link">Regression Tables</a></li><li class="nav-list-item"><a href="/Presentation/Tables/Summary_Statistics_Tables.html" class="nav-list-link">Summary Statistics Tables</a></li></ul></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Time Series category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Time_Series/Time_Series.html" class="nav-list-link">Time Series</a><ul class="nav-list"><li class="nav-list-item"><a href="/Time_Series/AR-models.html" class="nav-list-link">AR Models</a></li><li class="nav-list-item"><a href="/Time_Series/ARCH_Model.html" class="nav-list-link">ARCH Model</a></li><li class="nav-list-item"><a href="/Time_Series/ARIMA-models.html" class="nav-list-link">ARIMA Models</a></li><li class="nav-list-item"><a href="/Time_Series/ARMA-models.html" class="nav-list-link">ARMA Models</a></li><li class="nav-list-item"><a href="/Time_Series/Autocorrelation_Function.html" class="nav-list-link">Autocorrelation Function</a></li><li class="nav-list-item"><a href="/Time_Series/GARCH_Model.html" class="nav-list-link">GARCH Model</a></li><li class="nav-list-item"><a href="/Time_Series/Granger_Causality.html" class="nav-list-link">Granger Causality</a></li><li class="nav-list-item"><a href="/Time_Series/MA_Model.html" class="nav-list-link">MA Models</a></li><li class="nav-list-item"><a href="/Time_Series/Rolling_Regression.html" class="nav-list-link">Rolling Regression</a></li><li class="nav-list-item"><a href="/Time_Series/State_Space_Models.html" class="nav-list-link">State Space Models</a></li><li class="nav-list-item"><a href="/Time_Series/VAR-models.html" class="nav-list-link">VAR Models</a></li><li class="nav-list-item"><a href="/Time_Series/creating_time_series_dataset.html" class="nav-list-link">Creating a Time Series Dataset</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Other category" aria-pressed="false">
        <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg>
      </button><a href="/Other/Other.html" class="nav-list-link">Other</a><ul class="nav-list"><li class="nav-list-item"><a href="/Other/create_a_conda_package.html" class="nav-list-link">Create a Conda Package (Python)</a></li><li class="nav-list-item"><a href="/Other/get_a_list_of_files.html" class="nav-list-link">Get a List of Files</a></li><li class="nav-list-item"><a href="/Other/import_a_foreign_data_file.html" class="nav-list-link">Import a Foreign Data File</a></li><li class="nav-list-item"><a href="/Other/importing_delimited_files.html" class="nav-list-link">Import a Delimited Data File (CSV, TSV)</a></li><li class="nav-list-item"><a href="/Other/set_a_working_directory.html" class="nav-list-link">Set a Working Directory</a></li><li class="nav-list-item"><a href="/Other/simple_web_scrape.html" class="nav-list-link">Simple Web Scraping</a></li><li class="nav-list-item"><a href="/Other/task_scheduling_with_github_actions.html" class="nav-list-link">Task Scheduling with Github Actions</a></li></ul></li><li class="nav-list-item"><a href="/Desired_Nonexistent_Pages/desired_nonexistent_pages.html" class="nav-list-link">Desired Nonexistent Pages</a></li><li class="nav-list-item"><a href="/Contributing/Contributing.html" class="nav-list-link">Contributing</a></li><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul>
</nav>
    <footer class="site-footer">
      This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.
    </footer>
</div>
  <div class="main" id="top">
    <div id="main-header" class="main-header">
<div class="search" role="search">
  <div class="search-input-wrap">
    <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search LOST" aria-label="Search LOST" autocomplete="off">
    <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
  </div>
  <div id="search-results" class="search-results"></div>
</div>
</div>
    <div class="main-content-wrap">
      <nav aria-label="Breadcrumb" class="breadcrumb-nav">
  <ol class="breadcrumb-nav-list">
    <li class="breadcrumb-nav-list-item"><a href="/Presentation/Presentation.html">Presentation</a></li>
    <li class="breadcrumb-nav-list-item"><a href="/Presentation/Tables/Tables.html">Tables</a></li>
    <li class="breadcrumb-nav-list-item"><span>Cross-Tabulation</span></li>
  </ol>
</nav>
      <div id="main-content" class="main-content">
        <main>
            <h1 id="cross-tabulations">
    <a href="#cross-tabulations" class="anchor-heading" aria-labelledby="cross-tabulations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Cross Tabulations
</h1>
<p>A cross-tabulation is a table that shows the relationship between two or more variables. While more complex models are incredibly important, it is just as useful to quickly understand and present a basic picture of your data. This is where cross-tabulations come in handy, they simplify the data by creating subgroups which can be interpreted at a smaller and more granular scale.</p>
<p>A cross-tabulation is rudimentary form of analysis, and a great starting point for working with relationships between discrete variables. When presenting data for initial qualitative and quantitative analysis it is important to show how distribution of responses and distribution of groups works in the dataset. This can allow you to immediately see where deeper analysis can be used and the patterns within the data. They are specifically useful in both market research and population surveys.</p>
<h2 id="keep-in-mind">
    <a href="#keep-in-mind" class="anchor-heading" aria-labelledby="keep-in-mind"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Keep in Mind
</h2>
<ul>
  <li>Cross-tabulations are generally not appropriate if either of the variables you’re looking at is continuous. You may want to consider a <a href="/Presentation/Figures/Scatterplots.html">scatterplot</a> in this case, or a number of other options.</li>
  <li>By default, cross-tabulations count (tabulate) the number of observations in each cell. But it is usually straightforward to have it provide the percentage in each cell instead. Which one you want depends on what question you’re trying to answer.</li>
</ul>
<h2 id="also-consider">
    <a href="#also-consider" class="anchor-heading" aria-labelledby="also-consider"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Also Consider
</h2>
<ul>
  <li>Cross-tabulations are relatively simple but the possibilities are endless. It is less about knowing how to make the table and more about knowing what variables to include in order to spot trends in the data.</li>
</ul>
<h1 id="implementations">
    <a href="#implementations" class="anchor-heading" aria-labelledby="implementations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementations
</h1>
<h2 id="julia">
    <a href="#julia" class="anchor-heading" aria-labelledby="julia"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Julia
</h2>
<p>Julia ecosystem has a specialized library for building cross-tables named <strong>FreqTables.jl</strong>.
As any other registered library it can be installed from a REPL session with
<code class="language-plaintext highlighter-rouge">import Pkg; Pkg.add("FreqTables")</code> command. We’ll also need <strong>CSV</strong> and <strong>DataFrames</strong>
libraries for data loading and preparation.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">using</span> <span class="n">CSV</span><span class="x">,</span> <span class="n">DataFrames</span><span class="x">,</span> <span class="n">FreqTables</span>

<span class="c"># Get the data and convert from a CSV into a Data Frame</span>
<span class="n">lakers</span> <span class="o">=</span> <span class="n">CSV</span><span class="o">.</span><span class="n">read</span><span class="x">(</span><span class="n">download</span><span class="x">(</span><span class="s">"https://github.com/LOST-STATS/lost-stats.github.io/raw/source/Presentation/Tables/Data/lakers.csv"</span><span class="x">),</span> <span class="n">DataFrame</span><span class="x">)</span>

<span class="c"># Filter for only a couple Lakers players for space</span>
<span class="n">lakersd</span> <span class="o">=</span> <span class="n">lakers</span><span class="x">[</span><span class="n">lakers</span><span class="o">.</span><span class="n">team</span> <span class="o">.==</span> <span class="s">"LAL"</span><span class="x">,</span> <span class="o">:</span><span class="x">]</span>
<span class="c"># Ignore missing names while filtering for the given names</span>
<span class="n">lakersd</span> <span class="o">=</span> <span class="n">lakersd</span><span class="x">[</span><span class="n">coalesce</span><span class="o">.</span><span class="x">(</span><span class="k">in</span><span class="o">.</span><span class="x">(</span><span class="n">lakersd</span><span class="o">.</span><span class="n">player</span><span class="x">,</span> <span class="kt">Ref</span><span class="x">([</span><span class="s">"Jordan Farmar"</span><span class="x">,</span> <span class="s">"Pau Gasol"</span><span class="x">,</span> <span class="s">"Kobe Bryant"</span><span class="x">])),</span> <span class="nb">false</span><span class="x">),</span> <span class="o">:</span><span class="x">]</span>

<span class="c"># Create a crosstab for each basketball action for each player</span>
<span class="n">ftbl</span> <span class="o">=</span> <span class="n">freqtable</span><span class="x">(</span><span class="n">lakersd</span><span class="x">,</span> <span class="o">:</span><span class="n">player</span><span class="x">,</span> <span class="o">:</span><span class="n">etype</span><span class="x">)</span>

<span class="c"># 3×6 Named Matrix{Int64}</span>
<span class="c">#  player ╲ etype │       "foul"  "free throw"     "rebound"        "shot"    "turnover"   "violation"</span>
<span class="c"># ────────────────┼───────────────────────────────────────────────────────────────────────────────────</span>
<span class="c"># "Jordan Farmar" │           99            75           110           389            87             4</span>
<span class="c"># "Kobe Bryant"   │          180           529           410          1619           200             7</span>
<span class="c"># "Pau Gasol"     │          159           423           752           993           148             6</span>
</code></pre></div></div>
<p>You can even create tables analyzing three (or more) variables. Here is the same table as above for home and away games.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">freqtable</span><span class="x">(</span><span class="n">lakersd</span><span class="x">,</span> <span class="o">:</span><span class="n">player</span><span class="x">,</span> <span class="o">:</span><span class="n">etype</span><span class="x">,</span> <span class="o">:</span><span class="n">game_type</span><span class="x">)</span>

<span class="c"># 3×6×2 Named Array{Int64, 3}</span>

<span class="c"># [:, :, game_type="away"] =</span>
<span class="c">#  player ╲ etype │       "foul"  "free throw"     "rebound"        "shot"    "turnover"   "violation"</span>
<span class="c"># ────────────────┼───────────────────────────────────────────────────────────────────────────────────</span>
<span class="c"># "Jordan Farmar" │           51            21            48           189            45             2</span>
<span class="c"># "Kobe Bryant"   │           93           315           213           882            93             3</span>
<span class="c"># "Pau Gasol"     │           78           221           389           513            78             5</span>

<span class="c"># [:, :, game_type="home"] =</span>
<span class="c">#  player ╲ etype │       "foul"  "free throw"     "rebound"        "shot"    "turnover"   "violation"</span>
<span class="c"># ────────────────┼───────────────────────────────────────────────────────────────────────────────────</span>
<span class="c"># "Jordan Farmar" │           48            54            62           200            42             2</span>
<span class="c"># "Kobe Bryant"   │           87           214           197           737           107             4</span>
<span class="c"># "Pau Gasol"     │           81           202           363           480            70             1</span>
</code></pre></div></div>
<p>In order to obtain proportions instead of count use <code class="language-plaintext highlighter-rouge">prop</code> function with an optional
<code class="language-plaintext highlighter-rouge">margins</code> argument. If <code class="language-plaintext highlighter-rouge">margins</code> is <code class="language-plaintext highlighter-rouge">nothing</code> (the default), proportions over the whole table
are computed. If <code class="language-plaintext highlighter-rouge">margins</code> is an <code class="language-plaintext highlighter-rouge">Integer</code>, or an iterable of <code class="language-plaintext highlighter-rouge">Integer</code>s, proportions
sum to 1 over dimensions specified by margins. In particular for a two-dimensional array,
when <code class="language-plaintext highlighter-rouge">margins</code> is 1 row proportions are calculated, and when <code class="language-plaintext highlighter-rouge">margins</code> is 2 column
proportions are calculated.</p>
<div class="language-julia highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">prop</span><span class="x">(</span><span class="n">ftbl</span><span class="x">)</span>

<span class="c"># 3×6 Named Matrix{Float64}</span>
<span class="c">#  player ╲ etype │       "foul"  "free throw"     "rebound"        "shot"    "turnover"   "violation"</span>
<span class="c"># ────────────────┼───────────────────────────────────────────────────────────────────────────────────</span>
<span class="c"># "Jordan Farmar" │    0.0159935     0.0121163     0.0177706     0.0628433     0.0140549   0.000646204</span>
<span class="c"># "Kobe Bryant"   │    0.0290792     0.0854604     0.0662359      0.261551     0.0323102    0.00113086</span>
<span class="c"># "Pau Gasol"     │    0.0256866      0.068336      0.121486       0.16042     0.0239095   0.000969305</span>

<span class="n">prop</span><span class="x">(</span><span class="n">ftbl</span><span class="x">,</span> <span class="n">margins</span> <span class="o">=</span> <span class="mi">2</span><span class="x">)</span>

<span class="c"># 3×6 Named Matrix{Float64}</span>
<span class="c">#  player ╲ etype │       "foul"  "free throw"     "rebound"        "shot"    "turnover"   "violation"</span>
<span class="c"># ────────────────┼───────────────────────────────────────────────────────────────────────────────────</span>
<span class="c"># "Jordan Farmar" │     0.226027     0.0730282      0.086478      0.129623           0.2      0.235294</span>
<span class="c"># "Kobe Bryant"   │     0.410959      0.515093      0.322327      0.539487       0.45977      0.411765</span>
<span class="c"># "Pau Gasol"     │     0.363014      0.411879      0.591195       0.33089       0.34023      0.352941</span>
</code></pre></div></div>
<h2 id="python">
    <a href="#python" class="anchor-heading" aria-labelledby="python"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Python
</h2>
<p>In Python we can use the <code class="language-plaintext highlighter-rouge">.crosstab()</code> method in <strong>pandas</strong>.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>

<span class="c1"># Get Lakers data
</span><span class="n">lakers</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'https://github.com/LOST-STATS/lost-stats.github.io/raw/source/Presentation/Tables/Data/lakers.csv'</span><span class="p">)</span>

<span class="c1"># Filter for only a couple Lakers players for space
</span><span class="n">lakersd</span> <span class="o">=</span> <span class="n">lakers</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lakers</span><span class="p">[</span><span class="s">'team'</span><span class="p">]</span> <span class="o">==</span> <span class="s">"LAL"</span><span class="p">]</span>
<span class="n">lakersd</span> <span class="o">=</span> <span class="n">lakersd</span><span class="p">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lakers</span><span class="p">[</span><span class="s">'player'</span><span class="p">].</span><span class="n">isin</span><span class="p">([</span><span class="s">'Jordan Farmar'</span><span class="p">,</span> <span class="s">'Pau Gasol'</span><span class="p">,</span> <span class="s">'Kobe Bryant'</span><span class="p">])]</span>

<span class="c1"># Create a crosstab for each basketball action for each player
</span><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">lakersd</span><span class="p">[</span><span class="s">'player'</span><span class="p">],</span> <span class="n">lakersd</span><span class="p">[</span><span class="s">'etype'</span><span class="p">])</span>

<span class="c1"># etype          foul  free throw  rebound  shot  turnover  violation
# player
# Jordan Farmar    99          75      110   389        87          4
# Kobe Bryant     180         529      410  1619       200          7
# Pau Gasol       159         423      752   993       148          6
</span></code></pre></div></div>
<p>You can even create tables analyzing three variables. Here is the same table as above for home and away games.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># add game_type to the crosstab
# Use brackets[] to distinguish which two-way crosstab is "inside" a broader one.
</span><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">([</span><span class="n">lakersd</span><span class="p">[</span><span class="s">'player'</span><span class="p">],</span> <span class="n">lakersd</span><span class="p">[</span><span class="s">'etype'</span><span class="p">]],</span> <span class="n">lakersd</span><span class="p">[</span><span class="s">'game_type'</span><span class="p">])</span>

<span class="c1"># game_type                 away  home
# player        etype
# Jordan Farmar foul          51    48
#               free throw    21    54
#               rebound       48    62
#               shot         189   200
#               turnover      45    42
#               violation      2     2
# Kobe Bryant   foul          93    87
#               free throw   315   214
#               rebound      213   197
#               shot         882   737
#               turnover      93   107
#               violation      3     4
# Pau Gasol     foul          78    81
#               free throw   221   202
#               rebound      389   363
#               shot         513   480
#               turnover      78    70
#               violation      5     1
</span></code></pre></div></div>
<p>You can use the <code class="language-plaintext highlighter-rouge">normalize</code> argument to get percentages instead of counts. <code class="language-plaintext highlighter-rouge">normalize = 'index'</code> gets proportions relative to the row totals, <code class="language-plaintext highlighter-rouge">normalize = 'column'</code> goes relative to the column, and <code class="language-plaintext highlighter-rouge">normalize = 'all'</code> does relative to the whole table.</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pd</span><span class="p">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">lakersd</span><span class="p">[</span><span class="s">'player'</span><span class="p">],</span> <span class="n">lakersd</span><span class="p">[</span><span class="s">'etype'</span><span class="p">],</span> <span class="n">normalize</span> <span class="o">=</span> <span class="s">'all'</span><span class="p">)</span>

<span class="c1"># etype              foul  free throw   rebound      shot  turnover  violation
# player
# Jordan Farmar  0.015994    0.012116  0.017771  0.062843  0.014055   0.000646
# Kobe Bryant    0.029079    0.085460  0.066236  0.261551  0.032310   0.001131
# Pau Gasol      0.025687    0.068336  0.121486  0.160420  0.023910   0.000969
</span></code></pre></div></div>
<p>Tests of independence between the two variables can be obtained by passing <code class="language-plaintext highlighter-rouge">.crosstab()</code> output to <code class="language-plaintext highlighter-rouge">scipy.stats.contingency_table</code>.</p>
<h2 id="r">
    <a href="#r" class="anchor-heading" aria-labelledby="r"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> R
</h2>
<p>There are  many functions for creating cross tabulations in R, including the base-R <code class="language-plaintext highlighter-rouge">table()</code> function. Here we will focus on one: <code class="language-plaintext highlighter-rouge">tabyl</code>, which is part of the <strong>janitor</strong> package, and is the <strong>tidyverse</strong> version of the table() function. This command can be used to quickly create pretty cross-tabulations which are report ready.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#Load in the packages</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">pacman</span><span class="p">)</span><span class="w">
</span><span class="n">p_load</span><span class="p">(</span><span class="n">tidyverse</span><span class="p">,</span><span class="n">janitor</span><span class="p">,</span><span class="n">kableExtra</span><span class="p">,</span><span class="w"> </span><span class="n">lubridate</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>
<p>First we can see how <code class="language-plaintext highlighter-rouge">tabyl</code> can create a quick summary table. To create the input just put the desired x and y variables into the tabyl() command.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Get lakers data</span><span class="w">
</span><span class="n">data</span><span class="p">(</span><span class="s2">"lakers"</span><span class="p">)</span><span class="w">

</span><span class="c1"># Filter for only a couple Lakers players for space</span><span class="w">

</span><span class="n">lakersd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lakers</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">team</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"LAL"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">player</span><span class="w"> </span><span class="o">%in%</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s1">'Jordan Farmar'</span><span class="p">,</span><span class="s1">'Pau Gasol'</span><span class="p">,</span><span class="s1">'Kobe Bryant'</span><span class="p">))</span><span class="w">

</span><span class="c1"># Example using the base-R table() function</span><span class="w">
</span><span class="n">table</span><span class="p">(</span><span class="n">lakersd</span><span class="o">$</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">lakersd</span><span class="o">$</span><span class="n">etype</span><span class="p">)</span><span class="w">

</span><span class="c1"># Create a crosstab for each basketball action for each player</span><span class="w">
</span><span class="c1"># Syntax is similar to table() but tabyl takes the data set as its first argument</span><span class="w">
</span><span class="n">lakersd</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tabyl</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="n">etype</span><span class="p">)</span><span class="w">

</span><span class="c1"># player foul free throw rebound shot turnover violation</span><span class="w">
</span><span class="c1"># Jordan Farmar   99         75     110  389       87         4</span><span class="w">
</span><span class="c1"># Kobe Bryant  180        529     410 1619      200         7</span><span class="w">
</span><span class="c1"># Pau Gasol  159        423     752  993      148         6</span><span class="w">
</span></code></pre></div></div>
<p>You can even create tables analyzing three variables. Here is the same table as above for home and away games.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">
</span><span class="c1"># add game_type to the crosstab</span><span class="w">
</span><span class="n">lakersd</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="n">tabyl</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="w"> </span><span class="n">etype</span><span class="p">,</span><span class="w"> </span><span class="n">game_type</span><span class="p">)</span><span class="w">

</span><span class="c1"># $away</span><span class="w">
</span><span class="c1"># player foul free throw rebound shot turnover violation</span><span class="w">
</span><span class="c1"># Jordan Farmar   51         21      48  189       45         2</span><span class="w">
</span><span class="c1"># Kobe Bryant   93        315     213  882       93         3</span><span class="w">
</span><span class="c1"># Pau Gasol   78        221     389  513       78         5</span><span class="w">
</span><span class="c1">#</span><span class="w">
</span><span class="c1"># $home</span><span class="w">
</span><span class="c1"># player foul free throw rebound shot turnover violation</span><span class="w">
</span><span class="c1"># Jordan Farmar   48         54      62  200       42         2</span><span class="w">
</span><span class="c1"># Kobe Bryant   87        214     197  737      107         4</span><span class="w">
</span><span class="c1"># Pau Gasol   81        202     363  480       70         1</span><span class="w">
</span></code></pre></div></div>
<p>With <code class="language-plaintext highlighter-rouge">tabyl</code> you can also use the adorn commands to add percentages. For basketball this would help see what players you would be analyzing when looking at team shot data.</p>
<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">lakers_shot</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lakersd</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w"> </span><span class="n">filter</span><span class="p">(</span><span class="n">etype</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">"shot"</span><span class="p">)</span><span class="w">

</span><span class="n">lakers_shot</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="c1"># Create tabyl</span><span class="w">
  </span><span class="n">tabyl</span><span class="p">(</span><span class="n">player</span><span class="p">,</span><span class="n">result</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="c1"># Add a totals row</span><span class="w">
  </span><span class="n">adorn_totals</span><span class="p">(</span><span class="n">where</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"row"</span><span class="p">,</span><span class="s2">"col"</span><span class="p">))</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="c1"># Add percentages of total shots taken by players</span><span class="w">
  </span><span class="n">adorn_percentages</span><span class="p">(</span><span class="n">denominator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"col"</span><span class="p">)</span><span class="w"> </span><span class="o">%&gt;%</span><span class="w">
  </span><span class="c1"># Format to 1 decimal place</span><span class="w">
  </span><span class="n">adorn_pct_formatting</span><span class="p">(</span><span class="n">digits</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="o">%&gt;%</span><span class="w">
  </span><span class="c1"># Include amount of observations</span><span class="w">
  </span><span class="n">adorn_ns</span><span class="p">()</span><span class="w">

</span><span class="c1"># player          made        missed         Total</span><span class="w">
</span><span class="c1"># Jordan Farmar  10.3%  (153)  15.5%  (236)  13.0%  (389)</span><span class="w">
</span><span class="c1"># Kobe Bryant  51.1%  (757)  56.7%  (862)  53.9% (1619)</span><span class="w">
</span><span class="c1"># Pau Gasol  38.5%  (570)  27.8%  (423)  33.1%  (993)</span><span class="w">
</span><span class="c1"># Total 100.0% (1480) 100.0% (1521) 100.0% (3001)</span><span class="w">
</span></code></pre></div></div>
<p>A chi square test of independence can use the <code class="language-plaintext highlighter-rouge">chisq.test()</code> function, which can accept <code class="language-plaintext highlighter-rouge">table()</code> output, or just your two variables directly.</p>
<h2 id="stata">
    <a href="#stata" class="anchor-heading" aria-labelledby="stata"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Stata
</h2>
<p>In Stata we can use the base <code class="language-plaintext highlighter-rouge">tabulate</code> command, which can be shortened to <code class="language-plaintext highlighter-rouge">tab</code>.</p>
<div class="language-stata highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">* Load data
</span><span class="err">import</span> <span class="err">delimited</span> <span class="s2">"https://github.com/LOST-STATS/lost-stats.github.io/raw/source/Presentation/Tables/Data/lakers.csv"</span><span class="err">
</span><span class="c1">
* Filter for only a couple Lakers players for space
</span><span class="err">keep</span> <span class="err">if</span> <span class="err">team</span> <span class="o">==</span> <span class="s2">"LAL"</span> <span class="o">&amp;</span> <span class="err">inlist(player,</span> <span class="s2">"Jordan Farmar"</span><span class="err">,</span><span class="s2">"Pau Gasol"</span><span class="err">,</span><span class="s2">"Kobe Bryant"</span><span class="err">)
</span><span class="c1">
* Create a crosstab for each basketball action for each player
</span><span class="err">tab</span> <span class="err">player</span> <span class="err">etype
</span><span class="c1">

*                      |                               etype
*               player |      foul  free th..    rebound       shot   turnover  violation |     Total
*----------------------+------------------------------------------------------------------+----------
*        Jordan Farmar |        99         75        110        389         87          4 |       764
*          Kobe Bryant |       180        529        410      1,619        200          7 |     2,945
*            Pau Gasol |       159        423        752        993        148          6 |     2,481
*----------------------+------------------------------------------------------------------+----------
*                Total |       438      1,027      1,272      3,001        435         17 |     6,190
</span><span class="err">
</span></code></pre></div></div>
<p>To creat tables analyzing three variables, use <code class="language-plaintext highlighter-rouge">by</code> with <code class="language-plaintext highlighter-rouge">tab</code>. The following example produces a separate table for home and away games. You could alternately use the <code class="language-plaintext highlighter-rouge">table</code> command, using <code class="language-plaintext highlighter-rouge">table player etype game_type</code> to get a very similar result. Switching to <code class="language-plaintext highlighter-rouge">table</code> is a good idea for anything more complex than this, as it’s a very flexible command.</p>
<div class="language-stata highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">bysort</span> <span class="err">game_type:</span> <span class="err">tab</span> <span class="err">player</span> <span class="err">etype
</span><span class="c1">
*----------------------------------------------------------------------------------------------------------------
*-&gt; game_type = away
*
*                      |                               etype
*               player |      foul  free th..    rebound       shot   turnover  violation |     Total
*----------------------+------------------------------------------------------------------+----------
*        Jordan Farmar |        51         21         48        189         45          2 |       356
*          Kobe Bryant |        93        315        213        882         93          3 |     1,599
*            Pau Gasol |        78        221        389        513         78          5 |     1,284
*----------------------+------------------------------------------------------------------+----------
*                Total |       222        557        650      1,584        216         10 |     3,239
*
*----------------------------------------------------------------------------------------------------------------
*-&gt; game_type = home
*
*                      |                               etype
*               player |      foul  free th..    rebound       shot   turnover  violation |     Total
*----------------------+------------------------------------------------------------------+----------
*        Jordan Farmar |        48         54         62        200         42          2 |       408
*          Kobe Bryant |        87        214        197        737        107          4 |     1,346
*            Pau Gasol |        81        202        363        480         70          1 |     1,197
*----------------------+------------------------------------------------------------------+----------
*                Total |       216        470        622      1,417        219          7 |     2,951
</span></code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">tab</code> has a number of options that allow for different kinds of analysis. <code class="language-plaintext highlighter-rouge">row</code> calculates the percentage of the row that each cell constitutes. <code class="language-plaintext highlighter-rouge">col</code> does the same for columns, and <code class="language-plaintext highlighter-rouge">cell</code> works for the overall table. Tests of independence between the two variables can be performed with the <code class="language-plaintext highlighter-rouge">chi2</code> option (among some other available tests; see the help file).</p>
        </main>
  <hr>
  <footer>
      <div class="d-flex mt-2">
          <p class="text-small text-grey-dk-000 mb-0">
            <a href="https://github.com/lost-stats/lost-stats.github.io/edit/source/Presentation/Tables/Cross-Tabulation.md" id="edit-this-page">Edit this page on GitHub.</a>
          </p>
      </div>
  </footer>
      </div>
    </div>
<div class="search-overlay"></div>
  </div>
</body>
</html>
